<!DOCTYPE html>
<html>
<head>

  <title>index</title>
  <style>
  body{
  margin:0px;
  }
  canvas{
  image-Rendering: pixelated;
  image-Rendering: crisp-edges;
  }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="module">
import { Bit } from "./bit.mjs";
  import {SyBoard} from "./mcts-board.js";
  import {MCTS} from "./mcts.js";
  import { Sy_api as api } from "./api.mjs";
  import { 
	cbt_PLAYER,
	cbt_ENEMY,
	st_Character
	}from "./consts.mjs";
	const ch0 = new st_Character();
	const ch1 = new st_Character();
	const ch2 = new st_Character();
	const ch3 = new st_Character();
	
	ch0.player_state = cbt_PLAYER;
	ch0.point_xy = Bit.SET_XY(0,0);
	ch1.player_state = cbt_PLAYER;
	ch0.point_xy = Bit.SET_XY(1,0);
	ch2.player_state = cbt_ENEMY;
	ch0.point_xy = Bit.SET_XY(3,3);
	ch3.player_state = cbt_ENEMY;
	ch0.point_xy = Bit.SET_XY(3,4);
  api.api_generateRoom(42,null,[ch0,ch1,ch2,ch3]);
  
	let game = new SyBoard()

	let iterations = 1000 //more iterations -> stronger AI, more computation
	let exploration = 1.41 //exploration vs. explotation parameter, sqrt(2) is reasonable default (c constant in UBC forumula)

	let player1 = new MCTS(game, 0 , iterations, exploration);

let max = 10000;
	while (max>0){
		let p1_move = player1.selectMove()
		game.playMove(p1_move)

		if (game.gameOver()) {break}
max-=1;
console.log(max);
	}

	console.log(game.winner())
  </script>
  
</body>
</html>